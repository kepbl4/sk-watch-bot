## –î–µ–ø–ª–æ–π
–ü—Ä–æ–µ–∫—Ç –¥–µ–ø–ª–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Actions workflow `.github/workflows/deploy.yml`. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ç–∫—É `main`, –∏ —Å–∫—Ä–∏–ø—Ç –¥–æ—Å—Ç–∞–≤–∏—Ç –∫–æ–¥ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–µ–ø–ª–æ—è —Å–æ–∑–¥–∞—é—Ç—Å—è systemd-—Ç–∞–π–º–µ—Ä—ã `bot-health.timer` (smoke-check –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã) –∏ `bot-dump.timer` (–Ω–æ—á–Ω–æ–π –±—ç–∫–∞–ø –±–∞–∑—ã).

## –†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
–°–µ—Ä–≤–∏—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ VPS –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `/opt/bot`. Systemd unit –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `bot.service`. –¢–∞–π–º–µ—Ä—ã –∏ —Å–µ—Ä–≤–∏—Å—ã –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π:

```
systemctl list-timers | grep bot-
```

## –õ–æ–≥–∏
–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```
journalctl -u bot -n 100 -f
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–í –±–æ—Ç–µ –¥–æ—Å—Ç—É–ø–µ–Ω —ç–∫—Ä–∞–Ω ¬´–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞¬ª —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ HTTP-–ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –ø–æ –∫–∞–∂–¥–æ–π —Ü–µ–ª–∏. –í –∑–∞–ø–∏—Å–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –ø–æ—Ä—Ç–∞–ª–∞, –¥–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –¥–∏–Ω–∞–º–∏–∫–∞ (‚Üë/‚Üì/‚â°) –∏ –ø–æ–º–µ—Ç–∫–∞ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —è–∫–æ—Ä—è (üÜï/‚ö†Ô∏è). –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å—ë —Å–µ–π—á–∞—Å¬ª –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–≥–æ–Ω –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `pulses`.

## –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

Playwright-—Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∫–µ—Ç—É –ø–æ—Ä—Ç–∞–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `env`:

- `PORTAL_FIRST_NAME` ‚Äî –∏–º—è (Meno)
- `PORTAL_LAST_NAME` ‚Äî —Ñ–∞–º–∏–ª–∏—è (Priezvisko)
- `PORTAL_BIRTHDATE` ‚Äî –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `DD.MM.YYYY`
- `PORTAL_PASSPORT` ‚Äî –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞ (ƒå√≠slo cestovn√©ho dokladu)
- `PORTAL_PHONE` ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è SMS
- `PORTAL_EMAIL` ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π e-mail

–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–¥–∞–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.

## VPN-–ø—Ä–æ–≤–µ—Ä–∫–∞

–°–µ–Ω—Å–æ—Ä VPN –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–∞–Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ–¥ `SK`. –ü—Ä–∏ –¥—Ä—É–≥–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VPN_EXPECTED_COUNTRY` (–º–æ–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ ISO-–∫–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –Ω–∞–ø—Ä–∏–º–µ—Ä `SK,CZ`).

## –î–∞—Ç—á–∏–∫–∏ –ø–æ—Ä—Ç–∞–ª–∞
–°–µ–Ω—Å–æ—Ä –ø–æ—Ä—Ç–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç HEAD/GET-–∑–∞–ø—Ä–æ—Å –∫ `LOGIN_URL` —Å —É—á—ë—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `IGNORE_HTTPS_ERRORS`. –í –ë–î (`portal_pulses`) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å—Ç–∞—Ç—É—Å `OK/SLOW/ERR`, –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–º–æ–∂–Ω–∞—è –æ—à–∏–±–∫–∞. –ü—Ä–∏ ERR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç—Å—è —Å–∫—Ä–∏–Ω—à–æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –∑–∞–ø–∏—Å—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ ¬´–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è¬ª.

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã
–ö–ª—é—á–µ–≤—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –æ—à–∏–±–∫–∏ –ø–æ—Ä—Ç–∞–ª–∞) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/opt/bot/logs/screens` –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `screenshots`. –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É.

## –£—Ç–∏–ª–∏—Ç—ã

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `scripts/` –¥–æ—Å—Ç—É–ø–Ω—ã —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

- `scripts/smoke-check` ‚Äî –±—ã—Å—Ç—Ä—ã–π self-test (—á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ë–î –∏ HTTP-–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞–ª–∞). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä–æ–º `bot-health.timer`.
- `scripts/db-inspect` ‚Äî –≤—ã–≤–æ–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π/–≥–æ—Ä–æ–¥–æ–≤/–≤–∫–ª—é—á—ë–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.
- `scripts/backup-db.sh` ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ SQLite —Å —Ä–µ—Ç–µ–Ω—à–µ–Ω–æ–º 14 –¥–Ω–µ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä–æ–º `bot-dump.timer`).
